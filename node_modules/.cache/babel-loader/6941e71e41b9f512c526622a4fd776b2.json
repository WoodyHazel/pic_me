{"ast":null,"code":"var _jsxFileName = \"/Users/hannahtufts/pic_me/src/Context.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Context = /*#__PURE__*/React.createContext();\n\nfunction ContextProvider(_ref) {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [allProducts, setAllProducts] = useState([]);\n  const [cartItems, setCartItems] = useState([]);\n  const [currentProduct, setCurrentProduct] = useState({});\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [perPage, setPerPage] = useState(20);\n  const [pageCount, setPageCount] = useState(1);\n  const [favoriteItems, setFavoriteItems] = useState([]);\n  useEffect(() => {\n    const apiKey = \"oKf3ItP74Z0Ym5rA4n98Yra0VtDeQL0pV10f7oj6M9s\";\n    const query = `query=${searchQuery}&`;\n    const count = `per_page=${perPage}&`;\n    const page = `page=${pageCount}&`;\n\n    if (searchQuery === \"\") {\n      fetch(`https://api.unsplash.com/photos?${count}${page}client_id=${apiKey}`).then(res => res.json()).then(data => setAllProducts(data));\n    } else {\n      fetch(`https://api.unsplash.com/search/photos?${query}${count}${page}client_id=${apiKey}`).then(res => res.json()).then(data => setAllProducts(data.results));\n    }\n  }, [searchQuery, perPage, pageCount, favoriteItems]);\n  useEffect(() => {\n    const storedItems = JSON.parse(localStorage.getItem(\"products\"));\n    setCartItems(storedItems || []);\n  }, []);\n  useEffect(() => {\n    localStorage.setItem(\"products\", JSON.stringify(cartItems));\n  }, [cartItems]);\n  useEffect(() => {\n    const favorites = JSON.parse(localStorage.getItem(\"favorites\"));\n    setFavoriteItems(favorites || []);\n  }, []);\n  useEffect(() => {\n    localStorage.setItem(\"favorites\", JSON.stringify(favoriteItems));\n  }, [favoriteItems]);\n\n  function addToCart(product) {\n    setCartItems(prevItems => [...prevItems, product]);\n  }\n\n  function removeFromCart(id) {\n    setCartItems(prevItems => prevItems.filter(item => item.id !== id));\n  }\n\n  function toggleFavorited(id) {\n    const updatedProducts = allProducts.map(product => {\n      if (product.id === id) {\n        return { ...product,\n          liked_by_user: !product.liked_by_user\n        };\n      }\n\n      return product;\n    });\n    setAllProducts(updatedProducts);\n  }\n\n  function addToFavorites(product) {\n    setFavoriteItems(prevItems => [...prevItems, product]);\n  }\n\n  function removeFromFavorites(id) {\n    setFavoriteItems(prevItems => prevItems.filter(item => item.id !== id));\n  }\n\n  console.log(allProducts);\n  return /*#__PURE__*/_jsxDEV(Context.Provider, {\n    value: {\n      allProducts,\n      toggleFavorited,\n      setAllProducts,\n      currentProduct,\n      setCurrentProduct,\n      favoriteItems,\n      addToFavorites,\n      removeFromFavorites,\n      cartItems,\n      addToCart,\n      removeFromCart,\n      perPage,\n      setPerPage,\n      searchQuery,\n      setSearchQuery,\n      pageCount,\n      setPageCount\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ContextProvider, \"24jS0jWGQMirtvuFSUl+u8dhA00=\");\n\n_c = ContextProvider;\nexport { ContextProvider, Context };\n\nvar _c;\n\n$RefreshReg$(_c, \"ContextProvider\");","map":{"version":3,"names":["React","useState","useEffect","Context","createContext","ContextProvider","children","allProducts","setAllProducts","cartItems","setCartItems","currentProduct","setCurrentProduct","searchQuery","setSearchQuery","perPage","setPerPage","pageCount","setPageCount","favoriteItems","setFavoriteItems","apiKey","query","count","page","fetch","then","res","json","data","results","storedItems","JSON","parse","localStorage","getItem","setItem","stringify","favorites","addToCart","product","prevItems","removeFromCart","id","filter","item","toggleFavorited","updatedProducts","map","liked_by_user","addToFavorites","removeFromFavorites","console","log"],"sources":["/Users/hannahtufts/pic_me/src/Context.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nconst Context = React.createContext();\n\nfunction ContextProvider({ children }) {\n  const [allProducts, setAllProducts] = useState([]);\n  const [cartItems, setCartItems] = useState([]);\n  const [currentProduct, setCurrentProduct] = useState({});\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [perPage, setPerPage] = useState(20);\n  const [pageCount, setPageCount] = useState(1);\n  const [favoriteItems, setFavoriteItems] = useState([]);\n\n  useEffect(() => {\n    const apiKey = \"oKf3ItP74Z0Ym5rA4n98Yra0VtDeQL0pV10f7oj6M9s\";\n    const query = `query=${searchQuery}&`;\n    const count = `per_page=${perPage}&`;\n    const page = `page=${pageCount}&`;\n\n    if (searchQuery === \"\") {\n      fetch(\n        `https://api.unsplash.com/photos?${count}${page}client_id=${apiKey}`\n      )\n        .then((res) => res.json())\n        .then((data) => setAllProducts(data));\n    } else {\n      fetch(\n        `https://api.unsplash.com/search/photos?${query}${count}${page}client_id=${apiKey}`\n      )\n        .then((res) => res.json())\n        .then((data) => setAllProducts(data.results));\n    }\n  }, [searchQuery, perPage, pageCount, favoriteItems]);\n\n  useEffect(() => {\n    const storedItems = JSON.parse(localStorage.getItem(\"products\"));\n    setCartItems(storedItems || []);\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem(\"products\", JSON.stringify(cartItems));\n  }, [cartItems]);\n\n  useEffect(() => {\n    const favorites = JSON.parse(localStorage.getItem(\"favorites\"));\n    setFavoriteItems(favorites || []);\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem(\"favorites\", JSON.stringify(favoriteItems));\n  }, [favoriteItems]);\n\n  function addToCart(product) {\n    setCartItems((prevItems) => [...prevItems, product]);\n  }\n\n  function removeFromCart(id) {\n    setCartItems((prevItems) => prevItems.filter((item) => item.id !== id));\n  }\n\n  function toggleFavorited(id) {\n    const updatedProducts = allProducts.map((product) => {\n      if (product.id === id) {\n        return { ...product, liked_by_user: !product.liked_by_user };\n      }\n      return product;\n    });\n    setAllProducts(updatedProducts);\n  }\n  function addToFavorites(product) {\n    setFavoriteItems((prevItems) => [...prevItems, product]);\n  }\n\n  function removeFromFavorites(id) {\n    setFavoriteItems((prevItems) => prevItems.filter((item) => item.id !== id));\n  }\n  console.log(allProducts);\n\n  return (\n    <Context.Provider\n      value={{\n        allProducts,\n        toggleFavorited,\n        setAllProducts,\n        currentProduct,\n        setCurrentProduct,\n        favoriteItems,\n        addToFavorites,\n        removeFromFavorites,\n        cartItems,\n        addToCart,\n        removeFromCart,\n        perPage,\n        setPerPage,\n        searchQuery,\n        setSearchQuery,\n        pageCount,\n        setPageCount,\n      }}\n    >\n      {children}\n    </Context.Provider>\n  );\n}\n\nexport { ContextProvider, Context };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}